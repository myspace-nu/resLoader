/*!
 * JavaScript resource loader
 * https://github.com/myspace-nu
 *
 * Copyright 2018 Johan Johansson
 * Released under the MIT license
 */
var resLoader=function(){this.scriptsLoaded={},this.load=function(o,n){n=void 0!==n?n:{};var t={onComplete:"function"==typeof o.onComplete?o.onComplete:"function"==typeof n.onComplete?n.onComplete:function(){},onLoad:"function"==typeof o.onLoad?o.onLoad:"function"==typeof n.onLoad?n.onLoad:function(){},onLoadAll:"function"==typeof o.onLoadAll?o.onLoadAll:"function"==typeof n.onLoadAll?n.onLoadAll:function(){},async:"boolean"==typeof o.async?o.async:"boolean"!=typeof n.async||n.async,scriptArray:Array.isArray(n.scriptArray)?n.scriptArray:null};if(void 0!==o.loadUnless&&o.loadUnless)t.onComplete();else if(void 0===o.loadIf||o.loadIf){if(Array.isArray(o))for(var e in o)this.load(o[e],t);if("string"==typeof o&&this.load({url:o},t),o.url)if(Array.isArray(o.url)){for(var e in t.scriptArray=[],o.url){(r=document.createElement("script")).src=o.url[e],t.scriptArray.push(r.src)}for(var e in o.url)this.load({url:o.url[e]},t)}else{var r;o.url.match(/\.js/i)?((r=document.createElement("script")).type="text/javascript",r.src=o.url):o.url.match(/\.css/i)&&((r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.media=t.async?"none":"all",r.href=o.url),r.async=t.async;var a={path:r.src||r.href,elm:r,url:o.url,onComplete:t.onComplete,onLoadAll:t.onLoadAll,onLoad:t.onLoad,settings:t},l=this;r.onload=function(){if(l.scriptsLoaded[a.path]=!0,a.onLoad(),Array.isArray(a.settings.scriptArray)){var o=0;for(var n in a.settings.scriptArray)l.scriptsLoaded[a.settings.scriptArray[n]]&&o++;o==a.settings.scriptArray.length&&(a.onLoadAll(),a.onComplete())}else a.onLoadAll(),a.onComplete();a.path.match(/\.css/i)&&a.settings.async&&(a.elm.onload=function(){},a.elm.media="all")},document.head.appendChild(r)}}else t.onComplete()}};