/*!
 * JavaScript resource loader
 * https://github.com/myspace-nu
 *
 * Copyright 2018 Johan Johansson
 * Released under the MIT license
 */
if(void 0===resLoader){window.resLoadedStorage={onLoad:[]};var resLoader=function(o){this.scriptsLoaded={},this.scriptsToLoad={},this.scriptsToHandle={},this.onCompleteExecuted=!1,this.onLoadAllExecuted=!1,this.scriptElement,this.defaultSettings={async:!o||"boolean"!=typeof o.async||o.async,blocking:!(!o||"boolean"!=typeof o.blocking)&&o.blocking},this.objectSize=function(o){var e=0;for(var t in o)o.hasOwnProperty(t)&&e++;return e},this.load=function(o,e){e=void 0!==e?e:{};var t={onComplete:"function"==typeof o.onComplete?o.onComplete:"function"==typeof e.onComplete?e.onComplete:function(){},onLoad:"function"==typeof o.onLoad?o.onLoad:"function"==typeof e.onLoad?e.onLoad:function(){},onLoadAll:"function"==typeof o.onLoadAll?o.onLoadAll:"function"==typeof e.onLoadAll?e.onLoadAll:function(){},async:"boolean"==typeof o.async?o.async:"boolean"==typeof e.async?e.async:this.defaultSettings.async,blocking:"boolean"==typeof o.blocking?o.blocking:"boolean"==typeof e.blocking?e.blocking:this.defaultSettings.blocking};"string"==typeof o.url&&((a=document.createElement("script")).src=o.url,this.scriptsToHandle[a.src]=!0);if(void 0!==o.loadUnless&&o.loadUnless||void 0!==o.unless&&o.unless)t.onComplete();else if(void 0!==o.loadIf&&!o.loadIf||void 0!==o.if&&!o.if)t.onComplete();else{if(Array.isArray(o))for(var n in o)this.load(o[n],t);if("string"==typeof o&&this.load({url:o},t),o.url)if(Array.isArray(o.url))for(var n in o.url)this.load({url:o.url[n]},t);else{var a;o.url.match(/\.js/i)?((a=document.createElement("script")).type="text/javascript",a.src=o.url):o.url.match(/\.css/i)&&((a=document.createElement("link")).type="text/css",a.rel="stylesheet",a.media=t.async?"none":"all",a.href=o.url),a.async=t.async;var l={path:a.src||a.href,elm:a,url:o.url,onComplete:t.onComplete,onLoadAll:t.onLoadAll,onLoad:t.onLoad,settings:t};this.scriptsToLoad[l.path]=!0;var s=this;if(a.onload=function(){s.scriptsLoaded[l.path]=!0,l.onLoad(),s.objectSize(s.scriptsLoaded)!=s.objectSize(s.scriptsToHandle)||s.onLoadAllExecuted||(s.onLoadAllExecuted=!0,l.onLoadAll()),s.objectSize(s.scriptsLoaded)!=s.objectSize(s.scriptsToLoad)||s.onCompleteExecuted||(s.onCompleteExecuted=!0,l.onComplete()),l.path.match(/\.css/i)&&l.settings.async&&(l.elm.onload=function(){},l.elm.media="all")},t.blocking&&"text/javascript"===a.type)window.resLoadedStorage.onLoad.push(a.onload),document.write('<script src="'+o.url+'" onload="window.resLoadedStorage.onLoad['+(window.resLoadedStorage.onLoad.length-1)+']();"><\/script>');else{var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(a,i)}}}}}}