/*!
 * JavaScript resource loader
 * https://github.com/myspace-nu
 *
 * Copyright 2018 Johan Johansson
 * Released under the MIT license
 */
var resLoader=function(){this.scriptsLoaded={},this.load=function(o,n){n=void 0!==n?n:{};var r={onComplete:"function"==typeof o.onComplete?o.onComplete:"function"==typeof n.onComplete?n.onComplete:function(){},onLoad:"function"==typeof o.onLoad?o.onLoad:"function"==typeof n.onLoad?n.onLoad:function(){},onLoadAll:"function"==typeof o.onLoadAll?o.onLoadAll:"function"==typeof n.onLoadAll?n.onLoadAll:function(){},async:"boolean"==typeof o.async?o.async:"boolean"!=typeof n.async||n.async,scriptArray:Array.isArray(n.scriptArray)?n.scriptArray:null};if(void 0!==o.loadUnless&&o.loadUnless)r.onComplete();else if(void 0===o.loadIf||o.loadIf){if(Array.isArray(o))for(var t in o)this.load(o[t],r);if("string"==typeof o&&this.load({url:o},r),o.url)if(Array.isArray(o.url)){for(var t in r.scriptArray=[],o.url){(a=document.createElement("script")).src=o.url[t],r.scriptArray.push(a.src)}for(var t in o.url)this.load({url:o.url[t]},r)}else{var a;(a=document.createElement("script")).src=o.url,a.async=r.async,a.type="text/javascript";var e={path:a.src,url:o.url,onComplete:r.onComplete,onLoadAll:r.onLoadAll,onLoad:r.onLoad,settings:r},l=this;a.onload=function(){if(l.scriptsLoaded[e.path]=!0,e.onLoad(),Array.isArray(e.settings.scriptArray)){var o=0;for(var n in e.settings.scriptArray)l.scriptsLoaded[e.settings.scriptArray[n]]&&o++;o==e.settings.scriptArray.length&&(e.onLoadAll(),e.onComplete())}else e.onLoadAll(),e.onComplete()},document.head.appendChild(a)}}else r.onComplete()}};